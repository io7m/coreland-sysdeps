#!/bin/sh

. ../sysdep-subs
if [ $? -ne 0 ]
then
  exit 111
fi

search="NO"
header="SDL.h"
path="/usr/include/SDL /usr/local/include/SDL"
define="-DHAVE_SDL"

sys="`uname -s | tr '/:[A-Z]' '..[a-z]'`"
if [ x"$sys" != x ]
then
  case "$sys" in
  darwin)
    path="/Library/Frameworks/SDL.framework/Headers \
          /sw/include/SDL ${path}"
    args="-D_THREAD_SAFE"
    search="YES"
    ;;
  *)
    ;;
  esac
fi

if [ "${search}" = "YES" ]
then
  search_header "${header}" "${path}" "${args}"
  if [ $? -ne 0 ]
  then
    error "could not locate ${header}"
  else
    echo "${define}"
  fi
  exit 0
fi

# default sdl-config system
cf="`sdl-config --cflags`"
if [ $? -ne 0 ]
then
  error "error executing sdl-config"
fi

echo ${cf} ${define}
