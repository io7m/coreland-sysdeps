#!/bin/sh

fatal()
{
  echo "fatal: $1" 1>&2
  exit 111
}

darwin_flags()
{
  if [ -d "/Library/Frameworks/SDL_image.framework/Headers" ]
  then
    echo " -I/Library/Frameworks/SDL_image.framework/Headers "
    return 0
  fi

  if [ -f "/usr/local/include/SDL/SDL_image.h" ]
  then
    echo " -I/usr/local/include/SDL "
    return 0
  fi

  if [ -f "/sw/include/SDL/SDL_image.h" ]
  then
    echo " -I/sw/include/SDL "
    return 0
  fi
}

sys="`uname -s | tr '/:[A-Z]' '..[a-z]'`"
if [ x"$sys" != x ]
then
  case "$sys" in
  darwin)
    # XXX: darwin doesn't necessarily mean OS X, but there doesn't
    #      seem to be a reliable way to test for OS X specifically
    darwin_flags
    if [ $? -ne 0 ]
    then
      fatal "could not locate SDL includes"
    fi

    exit 0
  ;;
  *) ;;
  esac
fi

# fall-through system

echo "-I/usr/local/include/SDL " 
